<!DOCTYPE html>
<html lang="ko">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>SGA UX/UI guide</title>
    <meta charset="utf-8">
    <meta http-equiv="Content-Script-Type" content="text/javascript">
    <meta http-equiv="Content-Style-Type" content="text/css">
    <meta name="keywords" content="SGA UX/UI" />
	<meta name="description" content="" />
    <meta name="viewport" content="width=device-width">

	<!-- 일반 Favicon 설정 -->

    <!-- css -->
	<link rel="stylesheet" type="text/css" href="../css/pub-worklist.css"/>
    <!-- javascript -->
    <script src="../js/jquery-1.11.3.min.js"></script>
    <script type="text/javascript" src="../js/jquery.form.min.js"></script>
	<style>
	.header .etc { color:yellowgreen; }
	.cont table {
		display: none;
	}

	.cont .tit {
		cursor: pointer;
	}

	.cont .tit.on ~ table {
		display: table;
	}
	</style>
</head>
<body>
	<div class="wrapper pc">
		<section class="ifr_view">
			<iframe id="iframe" width="100%" height="100%" src="./button.html"></iframe>
		</section>
		<section class="container">

			<div class="header">
				<h1>SGA UX/UI</h1>
				<ul class="stateArea">
					<li><strong>진행상테 :</strong></li>
					<li class="typeCommon"><span>공통</span></li>
					<li class="typeIng"><span>진행 중</span></li>
					<li class="typeComp"><span>완료</span></li>
					<li class="typeNon"><span>삭제</span></li>
				</ul>
				<ul class="stateCnt">
					<li>총 <span id="totCnt"></span>개</li>
					<li>작업중 <span id="progressCnt"></span>개</li>
					<li>완료 <span id="compCnt"></span>개</li>
				</ul>
				<ul class="etc">
					<li>테이블 열 진행 클래스(tr에 적용) : 완료 [comp], 비활성화 [non], 진행중 [ing] <br>** 진행중인 화면 : 테이블, 탭, 버튼, 아이콘, 헤더, 메뉴, 페이지네이션 적용 **</li>
				</ul>
			</div>

			<div class="cont guide">
				<h3 class="tit on">common</h3>
				<table>
					<summary></summary>
					<caption></caption>
					<colgroup>
						<col width="8%"><col width="8%"><col width="8%"><col width="6%">
						<col width="6%"><col width="10%"><col width="8%"><col width="4%">
						<col width="15%"><col width="*">
					</colgroup>
					<thead>
						<tr>
							<th scope="col">depth1</th>
							<th scope="col">depth2</th>
							<th scope="col">depth3</th>
							<th scope="col">depth4</th>
							<th scope="col" class="fileName">화면ID</th>
							<th scope="col">형태</th>
							<th scope="col">담당</th>
							<th scope="col">상태</th>
							<th scope="col">사용 소스</th>
							<th scope="col">비고</th>
						</tr>
					</thead>
					<tbody>
						<tr class="ing">
							<td>레이아웃1</td>
							<td></td>
							<td></td>
							<td></td>
							<td class="fileName"><a href="./layout1.html" target="_blank">layout1.html</a></td>
							<td></td>
							<td></td>
							<td class="state"></td>
							<td>[사용 소스] :: <br><br><b>*스크립트 클래스 :: <br></b></td>
							<td>content 안에 search_wrap</td>
						</tr>
						<tr class="ing">
							<td>레이아웃2</td>
							<td></td>
							<td></td>
							<td></td>
							<td class="fileName"><a href="./layout2.html" target="_blank">layout2.html</a></td>
							<td></td>
							<td></td>
							<td class="state"></td>
							<td>[사용 소스] :: <br><br><b>*스크립트 클래스 :: <br></b></td>
							<td>cont_wrap 안에 content 2개</td>
						</tr>
						<tr class="ing">
							<td>레이아웃3</td>
							<td></td>
							<td></td>
							<td></td>
							<td class="fileName"><a href="./layout3.html" target="_blank">layout3.html</a></td>
							<td></td>
							<td></td>
							<td class="state"></td>
							<td>[사용 소스] :: <br><br><b>*스크립트 클래스 :: <br></b></td>
							<td>content + only</td>
						</tr>
						<tr class="ing">
							<td>grid</td>
							<td></td>
							<td></td>
							<td></td>
							<td class="fileName"><a href="./grid.html" target="_blank">grid.html</a></td>
							<td></td>
							<td></td>
							<td class="state"></td>
							<td>[사용 소스] :: <br><br><b>*스크립트 클래스 :: <br></b></td>
							<td></td>
						</tr>
						<tr class="">
							<td>list</td>
							<td></td>
							<td></td>
							<td></td>
							<td class="fileName"><a href="./list.html" target="_blank">list.html</a></td>
							<td></td>
							<td></td>
							<td class="state"></td>
							<td>[사용 소스] :: <br><br><b>*스크립트 클래스 :: <br></b></td>
							<td></td>
						</tr>
						<tr class="ing">
							<td>table</td>
							<td></td>
							<td></td>
							<td></td>
							<td class="fileName"><a href="./table.html" target="_blank">table.html</a></td>
							<td></td>
							<td></td>
							<td class="state"></td>
							<td>[사용 소스] :: <br><br><b>*스크립트 클래스 :: <br></b></td>
							<td></td>
						</tr>
						<tr class="ing">
							<td>form</td>
							<td></td>
							<td></td>
							<td></td>
							<td class="fileName"><a href="./form.html" target="_blank">form.html</a></td>
							<td></td>
							<td></td>
							<td class="state"></td>
							<td>[사용 소스] :: <br><br><b>*스크립트 클래스 :: <br></b></td>
							<td></td>
						</tr>
						<tr class="ing">
							<td>button</td>
							<td></td>
							<td></td>
							<td></td>
							<td class="fileName"><a href="./button.html" target="_blank">button.html</a></td>
							<td></td>
							<td></td>
							<td class="state"></td>
							<td>[사용 소스] :: <br><br><b>*스크립트 클래스 :: <br></b></td>
							<td></td>
						</tr>
						<tr class="ing">
							<td>tab</td>
							<td></td>
							<td></td>
							<td></td>
							<td class="fileName"><a href="./tab.html" target="_blank">tab.html</a></td>
							<td></td>
							<td></td>
							<td class="state"></td>
							<td>[사용 소스] :: <br><br><b>*스크립트 클래스 :: <br></b></td>
							<td></td>
						</tr>
						<tr class="">
							<td>progress</td>
							<td></td>
							<td></td>
							<td></td>
							<td class="fileName"><a href="./progress.html" target="_blank">progress.html</a></td>
							<td></td>
							<td></td>
							<td class="state"></td>
							<td>[사용 소스] :: <br><br><b>*스크립트 클래스 :: <br></b></td>
							<td></td>
						</tr>
						<tr class="">
							<td>state</td>
							<td></td>
							<td></td>
							<td></td>
							<td class="fileName"><a href="./state.html" target="_blank">state.html</a></td>
							<td></td>
							<td></td>
							<td class="state"></td>
							<td>[사용 소스] :: <br><br><b>*스크립트 클래스 :: <br></b></td>
							<td></td>
						</tr>
						<tr class="comp">
							<td>color</td>
							<td></td>
							<td></td>
							<td></td>
							<td class="fileName"><a href="./color.html" target="_blank">color.html</a></td>
							<td></td>
							<td></td>
							<td class="state"></td>
							<td>[사용 소스] :: index.css<br><br><b>*스크립트 클래스 :: <br></b></td>
							<td></td>
						</tr>
					</tbody>
				</table>
			</div>
		</section>
	</div>

	<script>
		$(document).ready(function () {
			/*---------------------------------------------
				ready, load
			---------------------------------------------*/
			// 모든 리소스(이미지 등)가 로드된 후 fnPreload()를 호출하여 초기화
			$(window).on('load', function(){
				fnPreload();
			});
			
			/*---------------------------------------------
				preload, init
			---------------------------------------------*/
			/* preload */
			function fnPreload(){
				tableStateManager.init();
			}

			/*---------------------------------------------
				tableStateManager 모듈 정의
			---------------------------------------------*/
			var tableStateManager = (function() {
				// 날짜 관련 배열 (필요시 활용)
				var fromDate = [],
					toDate   = [],
					dateGap  = [];

				// 상태별 개수 변수
				var progressCnt = 0,   // 진행 중 개수
					compCnt     = 0,   // 완료 개수
					delCnt      = 0;   // 삭제 개수

				return {
					// 테이블 각 행의 상태를 업데이트하는 함수
					updateStates: function(){

						// 호출 시마다 카운트 초기화
						progressCnt = 0;
						compCnt = 0;
						delCnt = 0;
						
						$(".cont table tbody tr").each(function() {
							var $row = $(this);
							var $stateCell = $row.find(".state");
							
							if ($row.hasClass("non")) {
								$stateCell.html("<span>삭제</span>");
								delCnt++;
							} else if ($row.hasClass("ing")) {
								$stateCell.html("<span>진행 중</span>");
								progressCnt++;
							} else if ($row.hasClass("comp")) {
								$stateCell.html("<span>완료</span>");
								compCnt++;
							} else {
								$stateCell.text("");
							}
						});

					},

					// 상태별 카운트를 업데이트
					updateCounts: function(){
						var totCnt = $(".page table tbody tr").length; // 전체 행 개수
						$("#compCnt").text(compCnt);
						$("#totCnt").text(totCnt);
						$("#progressCnt").text(progressCnt);
					},
					// 레이아웃(마진) 조정
					adjustLayout: function(){
						var headerH = $(".container .header").outerHeight();
						$(".container .guide").css("margin-top", headerH + "px");
					},
				
					// 전체 초기화: 상태 업데이트, 카운트 갱신, 레이아웃 조정 실행
					init: function() {
						// 반환된 객체의 메서드를 호출
						this.updateStates();
						this.updateCounts();
						this.adjustLayout();
					},
					// 상태와 카운트만 갱신
					update: function() {
						this.updateStates();
						this.updateCounts();
					}
				};
			})();

			/**
			 * #테이블 토글
			 **/
			var tableListToggle = function(el) {
				var $el = $(el);
				return {
					open: function() {
						$el.addClass('on')
					},
					close: function() {
						$el.removeClass('on')
					},
					toggle: function() {
						if ($el.hasClass('on')) {
							this.close();
						} else {
							this.open();
						}
					}
				};
			};

			//event
			$(document).on('click', '.cont .tit', function() {
				tableListToggle(this).toggle();
			});
			

		});
		</script>
		
</body>
</html>
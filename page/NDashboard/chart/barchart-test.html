<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D3 bar chart</title>

    <script src="../../assets/js/lib/d3.v7.js"></script>
</head>
<body>
    <svg width="500" heigh="500"></svg>
    <svg width="500" heigh="500"></svg>
    <script>
        const data = [4, 8, 12, 23, 26, 45];
        d3.select('body').append('div').html('Hello world!');

        // 빈 차트 컨테이너를 생성하고 스타일을 설정한다.
        const div = d3.select('body')
            .append('div')
            .style("font", "18px sans-serif")
            .style("color", "white");

        // 막대 차트를 위한 초기 셀렉터를 설정한다.
        div.selectAll("div")
            .data(data)//데이터를 해당 셀렉터에 바인딩한다.
            .join("div")//바인딩된 데이터에 따라 입력될 막대 요소를 지정한다.
            .style("background", "steelblue")
            .style("padding", "5px")
            .style("margin", "5px 0")
            .style("width", d => `${d * 10}px`)
            .text(d => d);//각 막대 안에 들어갈 text를 설정한다.

        // 두번째
        const data2 = [5,10,15,20,25,30,35,40,45,50];
        const svg = d3.select('svg');

        data2.forEach((d, i) => {
            svg.append('rect')
                .attr('height', data2[i])
                .attr('width', 40)
                .attr('x', 50 * i)
                .attr('y', 100 - data2[i])
        })

        // 세번째
        const dataFile = [10,20,30,40,50,60,70,80,90,100];
        const svg2 = d3.select('svg:nth-child(2)');
        const color = ['skyblue', 'blue', 'lime', 'red', 'yellowgreen', 'violet', 'blueviolet', 'chocolate', 'darkgreen', 'yellow'];

        svg2.selectAll('bar')
            .data(dataFile)
            .enter().append('rect')
            .attr('fill', (d, i) => {return color[i]})
            .attr('height', (d, i) => {return d})
            .attr('width', 40)
            .attr('x', (d , i) => {return 50 * i})
            .attr('y', (d, i) => {return 100 - dataFile[i]})
    </script>
</body>
</html>